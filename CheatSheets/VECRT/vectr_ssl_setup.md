
# โ ะะฐะปะฐัััะฒะฐะฝะฝั VECTR ะท ะฒะปะฐัะฝะธะผะธ SSL ัะตััะธััะบะฐัะฐะผะธ (usercert) ั Docker

ะฆะตะน ัะฐะนะป ะพะฟะธััั ะฟะพะฒะฝะธะน ัะฐ ะฟะตัะตะฒััะตะฝะธะน ะฟัะพัะตั ะฝะฐะปะฐัััะฒะฐะฝะฝั HTTPS ะดะปั VECTR, ะฒััะฐะฝะพะฒะปะตะฝะพะณะพ ั `/opt/vectr`, ัะท ะฒะธะบะพัะธััะฐะฝะฝัะผ ะฒะปะฐัะฝะธั ัะฐะผะพะฟัะดะฟะธัะฐะฝะธั ัะตััะธััะบะฐััะฒ.

---

## ๐ ะกัััะบัััะฐ ะดะธัะตะบัะพััั

```
/opt/vectr/
โโโ docker-compose.yml
โโโ .env
โโโ user/
    โโโ certs/
        โโโ ssl.crt
        โโโ ssl.key
```

---

## ๐ง ะัะพะบะธ

### 1. ะะตัะตะนัะธ ั VECTR-ะดะธัะตะบัะพััั

```bash
cd /opt/vectr
```

---

### 2. ะกัะฒะพัะธัะธ ะดะธัะตะบัะพััั ะดะปั ัะตััะธััะบะฐััะฒ

```bash
mkdir -p user/certs
```

---

### 3. ะะณะตะฝะตััะฒะฐัะธ ัะฐะผะพะฟัะดะฟะธัะฐะฝั ัะตััะธััะบะฐัะธ

> โ๏ธ ะะฐะถะปะธะฒะพ! CN ะฟะพะฒะธะฝะตะฝ ะฒัะดะฟะพะฒัะดะฐัะธ VECTR_HOSTNAME ั `.env`, ะฝะฐะฟัะธะบะปะฐะด `sravectr.internal`.

```bash
openssl req -x509 -newkey rsa:4096 -nodes \
  -keyout user/certs/ssl.key \
  -out user/certs/ssl.crt \
  -days 365 \
  -subj "/CN=sravectr.internal"
```

---

### 4. ะะฝะตััะธ ะทะผัะฝะธ ั `.env`

ะััะฐะฝะพะฒะธัะธ:

```env
VECTR_CERTPROFILE=usercert
VECTR_FEATURES_SSLCONF=false
```

---

### 5. ะะฝะตััะธ ะผะพะฝััะฒะฐะฝะฝั ัะตััะธััะบะฐััะฒ ั `docker-compose.yml`

ะฃ ัะตะบััั `services.vectr-caddy-gateway:` ะดะพะดะฐัะธ:

```yaml
    volumes:
      - ./user/certs:/user/certs
```

---

### 6. ะะตัะตะทะฐะฟัััะธัะธ ััะตะบ

```bash
docker compose down
docker compose up -d
```

---

### 7. ะะพะดะฐัะธ ะทะฐะฟะธั ั `/etc/hosts` (ะฝะฐ ะะก, ะท ัะบะพั ะทะฐัะพะดะธัะต ะฒ ะฑัะฐัะทะตัั)

```bash
192.168.141.132 sravectr.internal
```

---

### 8. ะัะดะบัะธัะธ VECTR ั ะฑัะฐัะทะตัั

```
https://sravectr.internal:8081
```

> ๐ ะฏะบัะพ ะฑัะฐัะทะตั ะฟะพะบะฐะทัั ะฟะพะฟะตัะตะดะถะตะฝะฝั โ ะฝะฐัะธัะฝััั โAdvanced โ Proceedโ.

---

## โ ะะตะทัะปััะฐั

VECTR ะฟัะฐััั ัะตัะตะท HTTPS, ะฒะธะบะพัะธััะพะฒัััะธ ะฒะปะฐัะฝั ัะตััะธััะบะฐัะธ ะท `./user/certs`.

---
