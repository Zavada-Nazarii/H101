# üõ°Ô∏è Lab 1: –ü—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è —Å–ª—ñ–¥—ñ–≤ —É Linux

## üåü –ú–µ—Ç–∞

–ù–∞–≤—á–∏—Ç–∏—Å—å –≤–∏—è–≤–ª—è—Ç–∏ —Ç–∞ –ø—Ä–∏—Ö–æ–≤—É–≤–∞—Ç–∏ —Å–ª—ñ–¥–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ —Å–∏—Å—Ç–µ–º—ñ Linux –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é:
- `auth.log`
- `journalctl`

üõë **–¶—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤–∏–∫–ª—é—á–Ω–æ –≤ –æ—Å–≤—ñ—Ç–Ω—ñ—Ö —Ü—ñ–ª—è—Ö —É –≤–ª–∞—Å–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∞ –º–∞—à–∏–Ω–∞, Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä).**

---

## üß™ –í–∞—Ä—ñ–∞–Ω—Ç 1: –†–æ–±–æ—Ç–∞ –∑ `/var/log/auth.log`

> –ü—Ä–∞—Ü—é—î –≤ —Å–∏—Å—Ç–µ–º–∞—Ö, –¥–µ —î `rsyslog` –∞–±–æ `syslog` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Debian/Ubuntu).

### ‚úÖ –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```bash
sudo useradd hacker
sudo passwd hacker
```

### ‚úÖ –ö—Ä–æ–∫ 2: –Ü–º—ñ—Ç—É–π—Ç–µ –≤—Ö—ñ–¥ –≤ —Å–∏—Å—Ç–µ–º—É 
```bash
ssh hacker@127.0.0.1 
```

(–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —ñ–∑ –Ω–µ–≤—ñ—Ä–Ω–∏–º –ø–∞—Ä–æ–ª–µ–º –∑–∞–ª–∏—à–∏—Ç—å —Å–ª—ñ–¥–∏ —Ç–∞–∫–æ–∂)

### ‚úÖ –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —î –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥–∞—Ö
```bash
sudo grep hacker /var/log/auth.log
```

### ‚úÖ –ö—Ä–æ–∫ 4: –í–∏–¥–∞–ª—ñ—Ç—å –∑–∞–ø–∏—Å–∏ –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```bash
sudo sed -i '/hacker/d' /var/log/auth.log
```

### ‚úÖ –ö—Ä–æ–∫ 5: –û—á–∏—Å—Ç—ñ—Ç—å —ñ—Å—Ç–æ—Ä—ñ—é –∫–æ–º–∞–Ω–¥
```bash
history -c && history -w
```

---

## üß™ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –†–æ–±–æ—Ç–∞ –∑ `journalctl`

> –î–ª—è —Å–∏—Å—Ç–µ–º –Ω–∞ –±–∞–∑—ñ `systemd` (–±—ñ–ª—å—à—ñ—Å—Ç—å —Å—É—á–∞—Å–Ω–∏—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ñ–≤).

### ‚úÖ –ö—Ä–æ–∫ 1: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∂—É—Ä–Ω–∞–ª—ñ–≤ —Å–ª—É–∂–±–∏ SSH
```bash
journalctl -u ssh --no-pager | grep hacker
```

### ‚úÖ –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –∑–∞–ø–∏—Å–∏ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ–π —á–∞—Å
```bash
journalctl -u ssh --since "10 minutes ago"
```

### ‚úÖ –ö—Ä–æ–∫ 3 (–ù–ï–ë–ï–ó–ü–ï–ß–ù–û!): –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –ª–æ–≥—ñ–≤ –ø–æ–≤–Ω—ñ—Å—Ç—é
```bash
sudo journalctl --rotate
sudo journalctl --vacuum-time=1s
```
> ‚ö†Ô∏è –¶–µ –∑—ñ—Ç—Ä–µ –í–°–Ü —Å—Ç–∞—Ä—ñ –ª–æ–≥–∏. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ —É LAB-—Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.

### ‚úÖ –ö—Ä–æ–∫ 4 (–æ–ø—Ü—ñ–π–Ω–æ): –í–∏–º–∫–Ω–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∂—É—Ä–Ω–∞–ª—ñ–≤
```ini
# /etc/systemd/journald.conf
Storage=none
```
```bash
sudo systemctl restart systemd-journald
```

> –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –ª–æ–≥–∏ –Ω–µ –±—É–¥—É—Ç—å –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏—Å—å –≤–∑–∞–≥–∞–ª—ñ.

---

## üìÑ –©–æ –Ω–∞–¥–∞—Ç–∏ —É –∑–≤—ñ—Ç—ñ:

- –°–∫—Ä—ñ–Ω—à–æ—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
- –°–∫—Ä—ñ–Ω—à–æ—Ç–∏ –ª–æ–≥—ñ–≤ –¥–æ —Ç–∞ –ø—ñ—Å–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è (`auth.log` –∞–±–æ `journalctl`).
- –ö–æ–º–∞–Ω–¥–∏, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏—Å—è.
- –ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å –º–µ—Ç–æ–¥—É, —è–∫–∏–π –≤–∏ –∑–∞—Å—Ç–æ—Å—É–≤–∞–ª–∏ (—ñ —á–æ–º—É —Å–∞–º–µ –π–æ–≥–æ).

---

## üîß –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

–û—á–∏—Å—Ç–∏—Ç–∏ –∂—É—Ä–Ω–∞–ª –ø–æ–≤–Ω—ñ—Å—Ç—é (—Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ç–µ—Å—Ç—ñ–≤):
```bash
sudo rm -rf /var/log/journal/*
```

–ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é:
```bash
history -c && history -w
```

---

## üèóÔ∏è –ü–æ—à—É–∫ CMS 

### 2. –ü–æ—à—É–∫ CSM (Content Management Systems) —á–µ—Ä–µ–∑ –æ–Ω–ª–∞–π–Ω-—Å–∫–∞–Ω–µ—Ä–∏
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è [Shodan](https://www.shodan.io), [Censys](https://search.censys.io)
- favicon.ico hash-–ø–æ—à—É–∫: `http.favicon.hash` —É Shodan –∞–±–æ —É Censys
- –ó–∞–≤–¥–∞–Ω–Ω—è: –∑–Ω–∞–π—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—É CSM (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Grafana, Jenkins, Bitrix) —á–µ—Ä–µ–∑ favicon
- –ó–∞–≤–¥–∞–Ω–Ω—è: –∑–Ω–∞–π—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—É CSM (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Grafana, Jenkins, Bitrix) —á–µ—Ä–µ–∑ —Å–∏–Ω—Ç–∞–∫—Å–∏ –ø–æ—à—É–∫—É

### 3. –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è –ø–æ—Ä—Ç—ñ–≤ –∑ Nmap
- –û—Å–Ω–æ–≤–∏ TCP/UDP —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è
- –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –≤–µ—Ä—Å—ñ–π —Å–µ—Ä–≤—ñ—Å—ñ–≤ (`-sV`) —Ç–∞ –û–° (`-O`)
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —É —Ñ–∞–π–ª (`-oN`)
- –ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ñ–∑ –≤–∏–∫–æ—Ä–∏—Ç—Å—É–≤–∞–Ω–Ω—è–º -A –ø–∞—Ä–∞–º–µ—Ç—Ä—É —Ç–∞ –±–µ–∑ –Ω—å–æ–≥–æ
- –ó–∞–≤–¥–∞–Ω–Ω—è: –ø—Ä–æ—Å–∫–∞–Ω—É–≤–∞—Ç–∏ `scanme.nmap.org` —Ç–∞ –Ω–∞–¥–∞—Ç–∏ –¥–∞–Ω—ñ —è–∫–∏–π —Å–µ—Ä–≤—ñ—Å —Ç–∞ –π–æ–≥–æ –≤–µ—Ä—Å—ñ—è –Ω–∞ –ø–æ—Ä—Ç—É 100 —ñ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ traceroute

### 4. –ü–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ –∑ Burp Suite
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–∫—Å—ñ
- –ü–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è POST/GET –∑–∞–ø–∏—Ç—ñ–≤
- –ó–∞–≤–¥–∞–Ω–Ω—è: —á–µ—Ä–µ–∑ Burp Suite —É [juice-shop](https://juice-shop.herokuapp.com/#/contact) –∑–∞–ª–∏—à–∏—Ç–∏ –≤—ñ–¥–≥—É–∫. –ù–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –Ω–∞–¥–∞—Ç–∏ json –≤—ñ–¥–ø–æ–≤—ñ–¥—å —Ç–∞ —è–∫–∏–π —Å—Ç–∞—Ç—É—Å –∫–æ–¥. 

---
